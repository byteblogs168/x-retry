(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1971a741"],{"2f3a":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("a-row",{attrs:{gutter:24}},[e("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:8}},[e("chart-card",{attrs:{loading:t.loading,title:t.$t("dashboard.analysis.total-sales"),total:t.taskQuantity.total}},[e("a-tooltip",{attrs:{slot:"action",title:t.$t("dashboard.analysis.introduce")},slot:"action"},[e("a-icon",{attrs:{type:"info-circle-o"}})],1),e("div",[e("span",{attrs:{slot:"term"},slot:"term"},[t._v("完成")]),t._v(" "+t._s(t.taskQuantity.finish)+" "),e("a-divider",{attrs:{type:"vertical"}}),e("span",{attrs:{slot:"term"},slot:"term"},[t._v("运行中")]),t._v(" "+t._s(t.taskQuantity.running)+" "),e("a-divider",{attrs:{type:"vertical"}}),e("span",{attrs:{slot:"term"},slot:"term"},[t._v("最大次数")]),t._v(" "+t._s(t.taskQuantity.maxRetryCount)+" ")],1)],1)],1),e("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:8}},[e("chart-card",{attrs:{loading:t.loading,title:"总调度量",total:t.dispatchQuantity.total}},[e("a-tooltip",{attrs:{slot:"action",title:t.$t("dashboard.analysis.introduce")},slot:"action"},[e("a-icon",{attrs:{type:"info-circle-o"}})],1),e("div",[e("a-tooltip",{attrs:{title:"成功率"}},[e("a-progress",{attrs:{"stroke-linecap":"square",percent:t.dispatchQuantity.successPercent}})],1)],1)],1)],1),e("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:8}},[e("chart-card",{attrs:{loading:t.loading,title:"总在线机器",total:t.countActivePodQuantity.total}},[e("a-tooltip",{attrs:{slot:"action",title:t.$t("dashboard.analysis.introduce")},slot:"action"},[e("a-icon",{attrs:{type:"info-circle-o"}})],1),e("div",[e("span",{attrs:{slot:"term"},slot:"term"},[t._v("客户端")]),t._v(" "+t._s(t.countActivePodQuantity.clientTotal)+" "),e("a-divider",{attrs:{type:"vertical"}}),e("span",{attrs:{slot:"term"},slot:"term"},[t._v("服务端")]),t._v(" "+t._s(t.countActivePodQuantity.serverTotal)+" ")],1)],1)],1)],1),e("a-card",{attrs:{loading:t.loading,bordered:!1,"body-style":{padding:"0"}}},[e("div",{staticClass:"salesCard"},[e("a-tabs",{attrs:{"default-active-key":"1",size:"large","tab-bar-style":{marginBottom:"24px",paddingLeft:"16px"}}},[e("div",{staticClass:"extra-wrapper",attrs:{slot:"tabBarExtraContent"},slot:"tabBarExtraContent"},[e("div",{staticClass:"extra-item"},[e("a",{attrs:{href:"#"},on:{click:function(a){return t.dataHandler("day")}}},[t._v(t._s(t.$t("dashboard.analysis.all-day")))]),e("a",{attrs:{href:"#"},on:{click:function(a){return t.dataHandler("week")}}},[t._v(t._s(t.$t("dashboard.analysis.all-week")))]),e("a",{attrs:{href:"#"},on:{click:function(a){return t.dataHandler("month")}}},[t._v(t._s(t.$t("dashboard.analysis.all-month")))]),e("a",{attrs:{href:"#"},on:{click:function(a){return t.dataHandler("year")}}},[t._v(t._s(t.$t("dashboard.analysis.all-year")))])]),e("div",{staticClass:"extra-item"},[e("a-range-picker",{style:{width:"256px"},on:{change:t.dateChange}})],1),e("a-select",{style:{width:"256px"},attrs:{placeholder:"请输入组名称"},on:{change:function(a){return t.handleChange(a)}}},t._l(t.groupNameList,(function(a){return e("a-select-option",{key:a,attrs:{value:a}},[t._v(t._s(a))])})),1)],1),e("a-tab-pane",{key:"1",attrs:{loading:"true",tab:t.$t("dashboard.analysis.sales")}},[e("a-row",[e("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[e("g2-line",{ref:"viewChart"})],1),e("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[e("rank-list",{attrs:{title:t.$t("dashboard.analysis.sales-ranking"),list:t.rankList}})],1)],1)],1)],1)],1)])],1)},i=[],s=(e("d3b7"),e("159b"),e("2af9")),r=e("432b"),o=e("0fea"),l={name:"Analysis",mixins:[r["a"]],components:{ChartCard:s["b"],MiniArea:s["d"],MiniBar:s["e"],MiniProgress:s["f"],RankList:s["i"],Bar:s["a"],NumberInfo:s["h"],MiniSmoothArea:s["g"],G2Line:s["c"]},data:function(){return{loading:!0,rankList:[],groupNameList:[],taskQuantity:{total:0,running:0,finish:0,maxRetryCount:0},dispatchQuantity:{successPercent:"0",total:0},countActivePodQuantity:{clientTotal:0,serverTotal:0,total:0},pieStyle:{stroke:"#fff",lineWidth:1},value:""}},computed:{},methods:{dataHandler:function(t){this.$refs.viewChart.getLineDispatchQuantity(this.value,t),this.getRankSceneQuantity(this.value,t)},handleChange:function(t){this.value=t,this.$refs.viewChart.getLineDispatchQuantity(t),this.getRankSceneQuantity(this.value)},dateChange:function(t,a){this.$refs.viewChart.getLineDispatchQuantity("others",new Date(a[0]).getTime(),new Date(a[1]).getTime()),this.getRankSceneQuantity(this.value,new Date(a[0]).getTime(),new Date(a[1]).getTime())},getRankSceneQuantity:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day",n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;Object(o["t"])({groupName:t,type:e,startTime:n,endTime:i}).then((function(t){a.rankList=[],t.data.forEach((function(t){a.rankList.push({name:t.groupName+"/"+t.sceneName,total:t.total})}))}))}},created:function(){var t=this;Object(o["e"])().then((function(a){t.groupNameList=a.data})),Object(o["c"])().then((function(a){t.taskQuantity=a.data})),Object(o["b"])().then((function(a){t.dispatchQuantity=a.data})),Object(o["a"])().then((function(a){t.countActivePodQuantity=a.data})),setTimeout((function(){t.loading=!t.loading}),1e3)}},c=l,d=(e("9094"),e("2877")),u=Object(d["a"])(c,n,i,!1,null,"2a5c3e34",null);a["default"]=u.exports},"432b":function(t,a,e){"use strict";e.d(a,"a",(function(){return s}));var n=e("5530"),i=e("5880"),s={computed:Object(n["a"])(Object(n["a"])({},Object(i["mapState"])({layout:function(t){return t.app.layout},navTheme:function(t){return t.app.theme},primaryColor:function(t){return t.app.color},colorWeak:function(t){return t.app.weak},fixedHeader:function(t){return t.app.fixedHeader},fixedSidebar:function(t){return t.app.fixedSidebar},contentWidth:function(t){return t.app.contentWidth},autoHideHeader:function(t){return t.app.autoHideHeader},isMobile:function(t){return t.app.isMobile},sideCollapsed:function(t){return t.app.sideCollapsed},multiTab:function(t){return t.app.multiTab}})),{},{isTopMenu:function(){return"topmenu"===this.layout}}),methods:{isSideMenu:function(){return!this.isTopMenu}}}},9094:function(t,a,e){"use strict";e("d301")},d301:function(t,a,e){}}]);